<!DOCTYPE html>
<html>
<head>
  <title>Smart Traffic Control Dashboard</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    body { font-family: Arial; background:#101820; color:#fff; text-align:center; padding:20px; }
    h1 { color:#00eaff; }
    .box { background:#1c1f26; padding:20px; margin:15px auto; width:80%; border-radius:10px; font-size:24px; box-shadow:0 0 15px #00eaff88; }
    .mode { font-size:30px; font-weight:bold; color:#ffeb3b; }
  </style>
</head>
<body>

<h1>ðŸš¦ Smart Traffic Control â€” Live Dashboard</h1>

<div class="box">Way-1 Vehicle Count: <span id="way1">0</span></div>
<div class="box">Way-2 Vehicle Count: <span id="way2">0</span></div>
<div class="box">Air Quality (MQ-2): <span id="air">0</span></div>
<div class="box mode">Mode: <span id="mode">Loading...</span></div>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.5.0/firebase-app.js";
  import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/12.5.0/firebase-database.js";

  const firebaseConfig = {
    apiKey: "AIzaSyDsv37aOlp9QBBWk1GjfDtf_I87szHZeH4",
    authDomain: "traffic-control-e8904.firebaseapp.com",
    databaseURL: "https://traffic-control-e8904-default-rtdb.asia-southeast1.firebasedatabase.app",
    projectId: "traffic-control-e8904",
    storageBucket: "traffic-control-e8904.appspot.com",
    messagingSenderId: "848619385421",
    appId: "1:848619385421:web:71f5e9c8fa070ca05ce204"
  };

  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);
  const dataRef = ref(db, "traffic");

  onValue(dataRef, (snapshot) => {
    const data = snapshot.val();
    document.getElementById("way1").innerText = data.way1;
    document.getElementById("way2").innerText = data.way2;
    document.getElementById("air").innerText = data.air;
    document.getElementById("mode").innerText = data.mode;
  });
</script>

</body>
</html>
